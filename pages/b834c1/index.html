<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Missing Traversals | Deacon&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="https://s3.bmp.ovh/imgs/2025/02/17/90894ee9bae75aac.jpg">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_3077305_pt8umhrn4k9.css">
    <script src="https://cdn.staticfile.org/twikoo/1.6.41/twikoo.all.min.js"></script>
    <meta name="description" content="">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <link rel="preload" href="/personal-blog/assets/css/0.styles.eee0a120.css" as="style"><link rel="preload" href="/personal-blog/assets/js/app.7b4c7531.js" as="script"><link rel="preload" href="/personal-blog/assets/js/4.fa98c6f6.js" as="script"><link rel="preload" href="/personal-blog/assets/js/1.516e64dd.js" as="script"><link rel="preload" href="/personal-blog/assets/js/3.d7c82e4a.js" as="script"><link rel="preload" href="/personal-blog/assets/js/54.e12b0229.js" as="script"><link rel="preload" href="/personal-blog/assets/js/40.98c35d43.js" as="script"><link rel="preload" href="/personal-blog/assets/js/24.7d49bec4.js" as="script"><link rel="prefetch" href="/personal-blog/assets/js/10.e7f3f22f.js"><link rel="prefetch" href="/personal-blog/assets/js/11.d7ccf023.js"><link rel="prefetch" href="/personal-blog/assets/js/12.e8add504.js"><link rel="prefetch" href="/personal-blog/assets/js/13.60625e6d.js"><link rel="prefetch" href="/personal-blog/assets/js/14.e5c91617.js"><link rel="prefetch" href="/personal-blog/assets/js/15.41954231.js"><link rel="prefetch" href="/personal-blog/assets/js/16.778cac10.js"><link rel="prefetch" href="/personal-blog/assets/js/17.92c0f4f1.js"><link rel="prefetch" href="/personal-blog/assets/js/18.65d7c777.js"><link rel="prefetch" href="/personal-blog/assets/js/19.61b202d0.js"><link rel="prefetch" href="/personal-blog/assets/js/2.c8e0120f.js"><link rel="prefetch" href="/personal-blog/assets/js/20.4c3b1839.js"><link rel="prefetch" href="/personal-blog/assets/js/21.3ba75e57.js"><link rel="prefetch" href="/personal-blog/assets/js/22.03754484.js"><link rel="prefetch" href="/personal-blog/assets/js/23.5bf3ea68.js"><link rel="prefetch" href="/personal-blog/assets/js/25.eda40ca4.js"><link rel="prefetch" href="/personal-blog/assets/js/26.2e1e5083.js"><link rel="prefetch" href="/personal-blog/assets/js/27.4dd0697d.js"><link rel="prefetch" href="/personal-blog/assets/js/28.65a49cdb.js"><link rel="prefetch" href="/personal-blog/assets/js/29.71e7ed60.js"><link rel="prefetch" href="/personal-blog/assets/js/30.fdec1fc6.js"><link rel="prefetch" href="/personal-blog/assets/js/31.080c2e00.js"><link rel="prefetch" href="/personal-blog/assets/js/32.7d5e5201.js"><link rel="prefetch" href="/personal-blog/assets/js/33.a89d6d5d.js"><link rel="prefetch" href="/personal-blog/assets/js/34.dd94ee5a.js"><link rel="prefetch" href="/personal-blog/assets/js/35.e3f1cc7e.js"><link rel="prefetch" href="/personal-blog/assets/js/36.783c9bb4.js"><link rel="prefetch" href="/personal-blog/assets/js/37.e17209e0.js"><link rel="prefetch" href="/personal-blog/assets/js/38.9d5676a0.js"><link rel="prefetch" href="/personal-blog/assets/js/39.44aae61d.js"><link rel="prefetch" href="/personal-blog/assets/js/41.3ac4f3e6.js"><link rel="prefetch" href="/personal-blog/assets/js/42.e71324fb.js"><link rel="prefetch" href="/personal-blog/assets/js/43.cf3fb3a7.js"><link rel="prefetch" href="/personal-blog/assets/js/44.2a5d129d.js"><link rel="prefetch" href="/personal-blog/assets/js/45.1bf3de77.js"><link rel="prefetch" href="/personal-blog/assets/js/46.0a357d83.js"><link rel="prefetch" href="/personal-blog/assets/js/47.21caf57f.js"><link rel="prefetch" href="/personal-blog/assets/js/48.44293d91.js"><link rel="prefetch" href="/personal-blog/assets/js/49.fd8acb4f.js"><link rel="prefetch" href="/personal-blog/assets/js/5.164c970a.js"><link rel="prefetch" href="/personal-blog/assets/js/50.6552fd15.js"><link rel="prefetch" href="/personal-blog/assets/js/51.23c61354.js"><link rel="prefetch" href="/personal-blog/assets/js/52.d9e8100f.js"><link rel="prefetch" href="/personal-blog/assets/js/53.3fca01ff.js"><link rel="prefetch" href="/personal-blog/assets/js/55.8cb3e8e8.js"><link rel="prefetch" href="/personal-blog/assets/js/56.e33dedd3.js"><link rel="prefetch" href="/personal-blog/assets/js/57.67dc45e5.js"><link rel="prefetch" href="/personal-blog/assets/js/58.cd206d65.js"><link rel="prefetch" href="/personal-blog/assets/js/59.a1a181b1.js"><link rel="prefetch" href="/personal-blog/assets/js/6.9ebc8467.js"><link rel="prefetch" href="/personal-blog/assets/js/7.b8aefb58.js"><link rel="prefetch" href="/personal-blog/assets/js/vendors~docsearch.1e1b10eb.js">
    <link rel="stylesheet" href="/personal-blog/assets/css/0.styles.eee0a120.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="Content" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/personal-blog/" class="home-link router-link-active"><img src="https://s3.bmp.ovh/imgs/2025/02/17/90894ee9bae75aac.jpg" alt="Deacon's Blog" class="logo"> <span class="site-name can-hide">Deacon's Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/personal-blog/" class="nav-link">Front Page</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Entertainment" class="dropdown-title"><a href="/personal-blog/enter/" class="link-title">Entertainment</a> <span class="title" style="display:none;">Entertainment</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/personal-blog/enter/games/" class="nav-link">Game Related</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Study" class="dropdown-title"><a href="/personal-blog/study/" class="link-title">Study</a> <span class="title" style="display:none;">Study</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/personal-blog/study/UBC/" class="nav-link">UBC</a></li><li class="dropdown-item"><!----> <a href="/personal-blog/study/algorithm/" class="nav-link">Algorithm</a></li><li class="dropdown-item"><!----> <a href="/personal-blog/study/plan/" class="nav-link">My plan</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://s3.bmp.ovh/imgs/2025/02/17/90894ee9bae75aac.jpg"> <div class="blogger-info"><h3>Deacon</h3> <span>UBC CS💻 ’27</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/personal-blog/" class="nav-link">Front Page</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Entertainment" class="dropdown-title"><a href="/personal-blog/enter/" class="link-title">Entertainment</a> <span class="title" style="display:none;">Entertainment</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/personal-blog/enter/games/" class="nav-link">Game Related</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Study" class="dropdown-title"><a href="/personal-blog/study/" class="link-title">Study</a> <span class="title" style="display:none;">Study</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/personal-blog/study/UBC/" class="nav-link">UBC</a></li><li class="dropdown-item"><!----> <a href="/personal-blog/study/algorithm/" class="nav-link">Algorithm</a></li><li class="dropdown-item"><!----> <a href="/personal-blog/study/plan/" class="nav-link">My plan</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>UBC</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Algorithm</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Trees Related</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/personal-blog/study/algorithm/treeTraversal/" class="sidebar-link">Three types of Traversal</a></li><li><a href="/personal-blog/pages/b834c1/" aria-current="page" class="active sidebar-link">Missing Traversals</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Plan</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/personal-blog/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/personal-blog/categories/?category=Study" title="分类" data-v-06225672>Study</a></li><li data-v-06225672><a href="/personal-blog/categories/?category=Algorithm" title="分类" data-v-06225672>Algorithm</a></li><li data-v-06225672><a href="/personal-blog/categories/?category=Trees%20Related" title="分类" data-v-06225672>Trees Related</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="javascript:;" data-v-06225672>Deacon</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2025-03-09</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">Content</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">Missing Traversals<!----></h1> <!----> <div class="theme-vdoing-content content__default"><p>In the previous section, we explained how to produce the four types of tree traversals—<em>LevelOrder</em>, <em>PreOrder</em>, <em>PostOrder</em>, and <em>InOrder</em>—for a given tree. Now, let us reverse the problem: if we are given one or more traversals of an existing tree, can we reconstruct that tree and also derive its other traversals? The answer is typically yes. Next, we will examine several scenarios, including cases where reconstruction is possible and cases where it is not.</p> <div class="custom-block note"><p class="custom-block-title">笔记</p> <p>In this chapter, all discussions refer to Binary Trees or Binary Search Trees.</p></div> <hr> <h3 id="single-traversal-not-enough-to-determine-a-tree"><a href="#single-traversal-not-enough-to-determine-a-tree" class="header-anchor">#</a> <strong>Single Traversal: Not Enough to Determine a Tree</strong></h3> <p>First, consider the case where <strong>only one traversal</strong> is given:</p> <ul><li><p><strong>LevelOrder</strong>: If the number of elements is exactly 1, 3, 7, 15, and so on (i.e., 2^h+1^- 1), then the tree must be a <strong>perfect tree</strong>, making it possible to reconstruct. Otherwise, we cannot decide how to fill any partially empty level.</p></li> <li><p><strong>PostOrder</strong>, <strong>InOrder</strong>, or <strong>PreOrder</strong> alone do not suffice. For instance, multiple different trees can share the same single traversal sequence.</p></li> <li><p>For PostOrder：</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code>     (1)                 (1)
    /   \                   \
  (3)   (2)                  (2)
                               \
                                (3)

</code></pre></div><ul><li>For InOrder and PreOrder:</li></ul> <div class="language- extra-class"><pre class="language-text"><code>     (1)                (1)     
        \              /   \
         (2)         (2)   (3)
           \
            (3)
</code></pre></div><p>Clearly, for a single given traversal, we can usually find <strong>different tree structures</strong> that produce the same traversal sequence.</p> <hr> <h3 id="when-two-traversals-fail-to-determine-a-tree"><a href="#when-two-traversals-fail-to-determine-a-tree" class="header-anchor">#</a> <strong>When Two Traversals Fail to Determine a Tree</strong></h3> <p><strong>Cases Where Two Given Traversals Fail to Determine the Tree Structure (Excluding LevelOrder):</strong></p> <ul><li>Given two traversals—PreOrder (root → left subtree → right subtree) and PostOrder (left subtree → right subtree → root)—we can identify the root node from the first element of PreOrder and the last element of PostOrder. However, we cannot perfectly determine how the left and right subtrees are distributed, which can lead to different tree shapes yielding the same pair of traversals.</li></ul> <hr> <h3 id="two-traversals-that-uniquely-determine-a-tree"><a href="#two-traversals-that-uniquely-determine-a-tree" class="header-anchor">#</a> <strong>Two Traversals That Uniquely Determine a Tree</strong></h3> <p>Finally, let’s discuss the scenarios in which two given traversals can <strong>precisely</strong> determine a tree’s structure.</p> <blockquote><p>The given traversals must be Post-Order + InOrder <strong>or</strong> PreOrder + InOrder.</p></blockquote> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>This article focuses on one such scenario; the other follows a similar logic and can be deduced independently.</p></div> <ul><li><p>We will focus on <strong>PostOrder + InOrder</strong> here</p></li> <li><p><strong>Key Insight</strong>: The last node in postorder is always the <strong>root</strong>. In inorder, all nodes to the left of the root belong to the <strong>left subtree</strong>, and all to the right belong to the <strong>right subtree</strong>.</p></li> <li><p><strong>Recursive Idea</strong>:</p></li></ul> <ol><li>Identify the root from postorder’s last element.</li> <li>Find that root in inorder. Everything to the left is the left subtree, and everything to the right is the right subtree.</li> <li>Determine which parts of postorder correspond to these subtrees.</li> <li>Recursively repeat this partitioning for left and right subtrees.</li></ol> <p>Because each subtree division is <strong>unique</strong> when node values are distinct, the original tree is reconstructed unambiguously.</p> <h3 id="one-example"><a href="#one-example" class="header-anchor">#</a> One Example</h3></div></div> <!----> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">last updated:</span> <span class="time">3/10/2025, 1:15:38 AM</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/personal-blog/study/algorithm/treeTraversal/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Three types of Traversal</div></a> <a href="/personal-blog/study/plan/c-c++/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Learning Plan and Direction for C/C++</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/personal-blog/study/algorithm/treeTraversal/" class="prev">Three types of Traversal</a></span> <span class="next"><a href="/personal-blog/study/plan/c-c++/">Learning Plan and Direction for C/C++</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/personal-blog/archives/" class="iconfont icon-bi"></a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/personal-blog/study/plan/c-c++/"><div>
            Learning Plan and Direction for C/C++
            <!----></div></a> <span class="date">02-27</span></dt></dl><dl><dd>02</dd> <dt><a href="/personal-blog/study/algorithm/treeTraversal/"><div>
            Three types of Traversal
            <!----></div></a> <span class="date">02-27</span></dt></dl><dl><dd>03</dd> <dt><a href="/personal-blog/study/UBC/GOGLOBAL/"><div>
            Go-Global
            <!----></div></a> <span class="date">02-24</span></dt></dl> <dl><dd></dd> <dt><a href="/personal-blog/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="https://github.com/DeaconT1" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://tool.gljlw.com/qq/?qq=3119415717" title="QQ" target="_blank" class="iconfont icon-QQ"></a><a href="mailto:deacont1study@gmail.com" title="Email Me" target="_blank" class="iconfont icon-youjian"></a><a href="https://space.bilibili.com/589152671" title="Bilibili" target="_blank" class="iconfont icon-bilibili"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2024-2025
    <span>Deacon | All rights reserved.</span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          System
        </li><li class="iconfont icon-rijianmoshi">
          Light Mode
        </li><li class="iconfont icon-yejianmoshi">
          Dark Mode
        </li><li class="iconfont icon-yuedu">
          Reading Mode
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div><div id="tcomment"></div><!----><canvas id="vuepress-canvas-cursor"></canvas><div></div><div class="Sakura" data-v-248d85d6><canvas id="canvas_sakura" style="z-index:-1;" data-v-248d85d6></canvas></div></div></div>
    <script src="/personal-blog/assets/js/app.7b4c7531.js" defer></script><script src="/personal-blog/assets/js/4.fa98c6f6.js" defer></script><script src="/personal-blog/assets/js/1.516e64dd.js" defer></script><script src="/personal-blog/assets/js/3.d7c82e4a.js" defer></script><script src="/personal-blog/assets/js/54.e12b0229.js" defer></script><script src="/personal-blog/assets/js/40.98c35d43.js" defer></script><script src="/personal-blog/assets/js/24.7d49bec4.js" defer></script>
  </body>
</html>
